<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mood-Based Pixel Art Generator (No DB)</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
<script src="https://cdn.tailwindcss.com"></script>
<style>
  body {
    font-family: 'Inter', sans-serif;
  }
  .image-rendering-pixelated {
    image-rendering: pixelated;
  }
</style>
</head>
<body class="bg-gray-100">

<div id="root" class="max-w-4xl mx-auto p-4"></div>

<script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
<script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
<script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

<script type="text/babel">

const App = () => {
  const [moodInput, setMoodInput] = React.useState('');
  const [generatedImages, setGeneratedImages] = React.useState([]);
  const canvasRef = React.useRef(null);

  const generateArt = () => {
    const canvas = canvasRef.current;
    const ctx = canvas.getContext('2d');
    const size = 100;
    const pixelSize = 10;

    for (let y = 0; y < size; y += pixelSize) {
      for (let x = 0; x < size; x += pixelSize) {
        const color = '#' + Math.floor(Math.random()*16777215).toString(16).padStart(6, '0');
        ctx.fillStyle = color;
        ctx.fillRect(x, y, pixelSize, pixelSize);
      }
    }

    const dataUrl = canvas.toDataURL('image/png');
    setGeneratedImages(prev => [...prev, dataUrl]);
  };

  return (
    <div>
      <h1 className="text-2xl font-bold text-center text-gray-800 mb-4">Mood Pixel Art Generator</h1>

      <div className="flex flex-col items-center mb-4">
        <input
          type="text"
          value={moodInput}
          onChange={e => setMoodInput(e.target.value)}
          placeholder="Enter your mood"
          className="border p-2 rounded w-full max-w-xs mb-2"
        />
        <button
          onClick={generateArt}
          className="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 transition"
        >
          Generate Art
        </button>
      </div>

      <canvas
        ref={canvasRef}
        width={100}
        height={100}
        className="hidden"
      ></canvas>

      {generatedImages.length > 0 && (
        <div className="mt-8">
          <h2 className="text-xl font-bold text-gray-800 mb-2">Gallery</h2>
          <div className="grid grid-cols-3 gap-4">
            {generatedImages.map((imgSrc, idx) => (
              <img
                key={idx}
                src={imgSrc}
                alt={`Pixel Art ${idx + 1}`}
                className="w-full rounded shadow image-rendering-pixelated"
              />
            ))}
          </div>
        </div>
      )}
    </div>
  );
};

ReactDOM.render(<App />, document.getElementById('root'));
</script>

</body>
</html>
